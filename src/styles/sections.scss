/// (c) Evgenii Dobrovidov, 2020

section {
  border-bottom: 1px solid rgba(0, 0, 0, 0.078);
  background: white;

  &:last-of-type {
    border: none;
  }

  > .contents {
    display: none;
  }
  &[expanded] > .contents {
    display: block;
  }

  > ul.contents > li, > .contents > .param {
    animation-duration: 250ms;
    animation-fill-mode: both;
    animation-timing-function: ease-in-out;

    @for $i from 1 to 21 {
      &:nth-child(#{$i}) {
        animation-delay: ($i - 1) * 50ms;
      }
    }
  }
  &[expanded] > ul.contents > li, &[expanded] > .contents > .param {
    animation-name: animateIn;
  }

  > h2:first-of-type {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    margin: 0 calc(var(--section-rows-vertical-margin) * 0.7 * -1);
    padding: calc(var(--section-rows-vertical-margin) * 0.7);
    transition: background-color 0.2s linear;

    &:hover {
      background: #efefef61;
    }

    &:after {
      content: '';
      margin-right: calc(var(--section-rows-vertical-margin) * 0.35);
      display: inline-block;
      vertical-align: top;
      border-style: solid;
      border-width: 0.12em 0.12em 0 0;
      border-color: var(--row-subtitle-color);
      height: 0.55em;
      width: 0.55em;
      transform: rotate(135deg);
      position: relative;
      left: 0.15em;
      bottom: 0.12em;
      transition: transform 0.2s ease-in-out, position 0.2s ease-in-out;
    }
  }
  &[expanded] > h2:first-of-type {
    margin-bottom: calc(var(--section-rows-vertical-margin) * 0.7);

    &:after {
      bottom: 0;
      transform: rotate(-45deg);
    }
  }
}

@keyframes animateIn {
  0% {
      opacity: 0;
      transform: translateX(32px);
  }

  100% {
      opacity: 1;
  }
}